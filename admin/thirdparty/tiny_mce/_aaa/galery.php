

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
    <title>galery.php at master from pkoch's simple_image_browser-uploader_for_tinymce &mdash; GitHub</title>
    <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub" />
    <link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub" />

    
      <link href="/stylesheets/bundle.css?a6993c24d2be8ed9039d270d17ecd93fc9d18b36" media="screen" rel="stylesheet" type="text/css" />
    

    
      
        <script src="/javascripts/bundle.js?a6993c24d2be8ed9039d270d17ecd93fc9d18b36" type="text/javascript"></script>
      
    
    
  
    
  

  <link href="http://github.com/feeds/pkoch/commits/simple_image_browser-uploader_for_tinymce/master" rel="alternate" title="Recent Commits to simple_image_browser-uploader_for_tinymce:master" type="application/atom+xml" />


    
  </head>

  

  <body>
    

    <div id="main">
      <div id="header" class="">
        <div class="site">
          <div class="logo">
            <a href="/"><img src="/images/modules/header/logo.png" alt="git-hub" /></a>
          </div>
          
            <div class="actions">
              <a href="/">Home</a>
              <a href="/plans"><b><u>Pricing and Signup</u></b></a>
              <a href="/repositories">Repositories</a>
              <a href="/news">News</a>
              <a href="/login">Login</a>
            </div>
          
        </div>
      </div>
      
      
        
  <div id="repo_menu">
    <div class="site">
      <ul>
        
          <li class="active"><a href="/pkoch/simple_image_browser-uploader_for_tinymce/tree/master">Source</a></li>

          <li class=""><a href="/pkoch/simple_image_browser-uploader_for_tinymce/commits/master">Commits</a></li>

          <li class=""><a href="/pkoch/simple_image_browser-uploader_for_tinymce/graphs">Graphs</a></li>

          <li class=""><a href="/pkoch/simple_image_browser-uploader_for_tinymce/wikis">Wiki (1)</a></li>

          <li class=""><a href="/pkoch/simple_image_browser-uploader_for_tinymce/watchers">Watchers (2)</a></li>

          <li class=""><a href="/pkoch/simple_image_browser-uploader_for_tinymce/network">Network (1)</a></li>

          

        
      </ul>
    </div>
  </div>

  <div id="repo_sub_menu">
    <div class="site">
      <div class="joiner"></div>
      

      

      
        <ul>
          <li>
            <a class="active" href="/pkoch/simple_image_browser-uploader_for_tinymce/tree/1c3bace0e2e3618b331db91db8dbc4c5f856285e">master</a>
          </li>
          <li>
            <a href="#">all branches</a>
            <ul>
              
                <li><a href="/pkoch/simple_image_browser-uploader_for_tinymce/tree/master">master</a></li>
              
            </ul>
          </li>
          <li>
            <a href="#">all tags</a>
            
          </li>
        </ul>

      
    </div>
  </div>

  <div class="site">
    



<div id="repos">
  


<div class="repo public">
  <div class="title">
    <div class="path">
      <a href="/pkoch">pkoch</a> / <b><a href="/pkoch/simple_image_browser-uploader_for_tinymce/tree">simple_image_browser-uploader_for_tinymce</a></b>

      

        

        
          

          
            
            <a href="/signup"><img alt="fork" class="button" src="/images/modules/repos/fork_button.png?a6993c24d2be8ed9039d270d17ecd93fc9d18b36" /></a> 
          
        

        <a href="/signup" class="toggle_watch"><img alt="watch" class="button" src="/images/modules/repos/watch_button.png?a6993c24d2be8ed9039d270d17ecd93fc9d18b36" /></a><a href="/signup" class="toggle_watch" style="display:none;"><img alt="watch" class="button" src="/images/modules/repos/unwatch_button.png?a6993c24d2be8ed9039d270d17ecd93fc9d18b36" /></a>

        
          <a href="#" id="download_button" rel="/pkoch/simple_image_browser-uploader_for_tinymce/downloads/master"><img alt="download tarball" class="button" src="/images/modules/repos/download_button.png?a6993c24d2be8ed9039d270d17ecd93fc9d18b36" /></a> 
        
      
    </div>

    <div class="security private_security" style="display:none">
      <a href="#private_repo" rel="facebox"><img src="/images/icons/private.png" alt="private" /></a>
    </div>

    <div id="private_repo" class="hidden">
      This repository is private.  
      All pages are served over SSL and all pushing and pulling is done over SSH.
      No one may fork, clone, or view it unless they are added as a <a href="/pkoch/simple_image_browser-uploader_for_tinymce/edit/collaborators">member</a>.

      <br/>
      <br/>
      Every repository with this icon (<img src="/images/icons/private.png" alt="private" />) is private.
    </div>

    <div class="security public_security" style="">
      <a href="#public_repo" rel="facebox"><img src="/images/icons/public.png" alt="public" /></a>
    </div>

    <div id="public_repo" class="hidden">
      This repository is public.
      Anyone may fork, clone, or view it.

      <br/>
      <br/>
      Every repository with this icon (<img src="/images/icons/public.png" alt="public" />) is public.
    </div>

    

    
  </div>
  <div class="meta">
    <table>
      
      
        <tr>
          <td class="label">Description:</td>
          <td>
            <span id="repository_description" rel="/pkoch/simple_image_browser-uploader_for_tinymce/edit/update" class="">Simple Image browser/uploader/delete integrated into TiinyMCE's advimage popup window.</span> 
            
          </td>
        </tr>
      

      
        
          <tr>
            <td class="label">Homepage:</td>
            <td>
              
                <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;amp;aid=1947128&amp;amp;group_id=103281&amp;amp;atid=738747">http://sourceforge.net/tracker/index.php?func=detail&amp;amp;aid=1947128&amp;amp;group_id=103281&amp;amp;atid=738747</a> 
              
            </td>
          </tr>
        
        
          <tr>
            <td class="label">Clone&nbsp;URL:</td>
            
            <td>
              <a href="git://github.com/pkoch/simple_image_browser-uploader_for_tinymce.git" class="git_url_facebox" rel="#git-clone">git://github.com/pkoch/simple_image_browser-uploader_for_tinymce.git</a>
              <div id="git-clone" style="display:none;">
                Give this clone URL to anyone.
                <br/>
                <code>git clone git://github.com/pkoch/simple_image_browser-uploader_for_tinymce.git </code>
              </div>
            </td>
          </tr>
        
        
        
        <tr>
          <td class="label">Search Repo:</td>
          <td>
            <form action="/pkoch/simple_image_browser-uploader_for_tinymce/search" method="get">
              <input type="text" name="q" value="" /> <select name="choice"><option value="code">Code</option><option value="grep">Commit Messages</option><option value="author">Author</option><option value="committer">Committer</option></select>
              <input type="submit" value="Go" />
            </form>
          </td>
        </tr>
      
    </table>
    
      </div>
</div>

</div>

<div id="commit">
  <div class="group">
    <div class="envelope commit">
  <div class="human">
    
      <div class="message"><pre><a href="/pkoch/simple_image_browser-uploader_for_tinymce/commit/1c3bace0e2e3618b331db91db8dbc4c5f856285e">Typo in a variable name.</a> </pre></div>
    

    <div class="actor">
      <div class="gravatar">
        
        <img alt="" height="30" src="http://www.gravatar.com/avatar/4e8d94859927eab3b50486d21249c068?s=30&amp;d=http%3A%2F%2Fgithub.com%2Fimages%2Fgravatars%2Fgravatar-30.png" width="30" />
      </div>
      <div class="name"><a href="/pkoch">pkoch</a> <span>(author)</span></div>
        <div class="date">
          <abbr class="relatize" title="2008-09-06 09:11:56">Sat Sep 06 09:11:56 -0700 2008</abbr> 
        </div>
    </div>

    

  </div>
  <div class="machine">
    <span>c</span>ommit&nbsp;&nbsp;<a href="/pkoch/simple_image_browser-uploader_for_tinymce/commit/1c3bace0e2e3618b331db91db8dbc4c5f856285e" hotkey="c">1c3bace0e2e3618b331db91db8dbc4c5f856285e</a><br />
    <span>t</span>ree&nbsp;&nbsp;&nbsp;&nbsp;<a href="/pkoch/simple_image_browser-uploader_for_tinymce/tree/1c3bace0e2e3618b331db91db8dbc4c5f856285e/galery.php" hotkey="t">657fd8b83cd9b1daa48c383c03ba6e1271db074c</a><br />

    
      <span>p</span>arent&nbsp;
      
      <a href="/pkoch/simple_image_browser-uploader_for_tinymce/tree/737734d46bdc1a4f2019adfb054f2ca9633ca1f9/galery.php" hotkey="p">737734d46bdc1a4f2019adfb054f2ca9633ca1f9</a>
    

  </div>
</div>

  </div>
</div>



  
    <div id="path">
      <b><a href="/pkoch/simple_image_browser-uploader_for_tinymce/tree">simple_image_browser-uploader_for_tinymce</a></b> / galery.php
    </div>

    
      <div id="files">
  <div class="file">
    <div class="meta">
      <div class="info">
        <span>100644</span>
        <span>322 lines (314 sloc)</span>
        <span>11.126 kb</span>
      </div>
      <div class="actions">
        
        <a href="/pkoch/simple_image_browser-uploader_for_tinymce/tree/master%2Fgalery.php?raw=true" id="raw-url">raw</a>
        <a href="/pkoch/simple_image_browser-uploader_for_tinymce/commits/master/galery.php">history</a>
      </div>
    </div>
    
      <div class="data syntax">
        
          <table cellpadding="0" cellspacing="0">
            <tr>
              <td>

<pre class="line_numbers">
<span id="LID1" rel="#L1">1</span>
<span id="LID2" rel="#L2">2</span>
<span id="LID3" rel="#L3">3</span>
<span id="LID4" rel="#L4">4</span>
<span id="LID5" rel="#L5">5</span>
<span id="LID6" rel="#L6">6</span>
<span id="LID7" rel="#L7">7</span>
<span id="LID8" rel="#L8">8</span>
<span id="LID9" rel="#L9">9</span>
<span id="LID10" rel="#L10">10</span>
<span id="LID11" rel="#L11">11</span>
<span id="LID12" rel="#L12">12</span>
<span id="LID13" rel="#L13">13</span>
<span id="LID14" rel="#L14">14</span>
<span id="LID15" rel="#L15">15</span>
<span id="LID16" rel="#L16">16</span>
<span id="LID17" rel="#L17">17</span>
<span id="LID18" rel="#L18">18</span>
<span id="LID19" rel="#L19">19</span>
<span id="LID20" rel="#L20">20</span>
<span id="LID21" rel="#L21">21</span>
<span id="LID22" rel="#L22">22</span>
<span id="LID23" rel="#L23">23</span>
<span id="LID24" rel="#L24">24</span>
<span id="LID25" rel="#L25">25</span>
<span id="LID26" rel="#L26">26</span>
<span id="LID27" rel="#L27">27</span>
<span id="LID28" rel="#L28">28</span>
<span id="LID29" rel="#L29">29</span>
<span id="LID30" rel="#L30">30</span>
<span id="LID31" rel="#L31">31</span>
<span id="LID32" rel="#L32">32</span>
<span id="LID33" rel="#L33">33</span>
<span id="LID34" rel="#L34">34</span>
<span id="LID35" rel="#L35">35</span>
<span id="LID36" rel="#L36">36</span>
<span id="LID37" rel="#L37">37</span>
<span id="LID38" rel="#L38">38</span>
<span id="LID39" rel="#L39">39</span>
<span id="LID40" rel="#L40">40</span>
<span id="LID41" rel="#L41">41</span>
<span id="LID42" rel="#L42">42</span>
<span id="LID43" rel="#L43">43</span>
<span id="LID44" rel="#L44">44</span>
<span id="LID45" rel="#L45">45</span>
<span id="LID46" rel="#L46">46</span>
<span id="LID47" rel="#L47">47</span>
<span id="LID48" rel="#L48">48</span>
<span id="LID49" rel="#L49">49</span>
<span id="LID50" rel="#L50">50</span>
<span id="LID51" rel="#L51">51</span>
<span id="LID52" rel="#L52">52</span>
<span id="LID53" rel="#L53">53</span>
<span id="LID54" rel="#L54">54</span>
<span id="LID55" rel="#L55">55</span>
<span id="LID56" rel="#L56">56</span>
<span id="LID57" rel="#L57">57</span>
<span id="LID58" rel="#L58">58</span>
<span id="LID59" rel="#L59">59</span>
<span id="LID60" rel="#L60">60</span>
<span id="LID61" rel="#L61">61</span>
<span id="LID62" rel="#L62">62</span>
<span id="LID63" rel="#L63">63</span>
<span id="LID64" rel="#L64">64</span>
<span id="LID65" rel="#L65">65</span>
<span id="LID66" rel="#L66">66</span>
<span id="LID67" rel="#L67">67</span>
<span id="LID68" rel="#L68">68</span>
<span id="LID69" rel="#L69">69</span>
<span id="LID70" rel="#L70">70</span>
<span id="LID71" rel="#L71">71</span>
<span id="LID72" rel="#L72">72</span>
<span id="LID73" rel="#L73">73</span>
<span id="LID74" rel="#L74">74</span>
<span id="LID75" rel="#L75">75</span>
<span id="LID76" rel="#L76">76</span>
<span id="LID77" rel="#L77">77</span>
<span id="LID78" rel="#L78">78</span>
<span id="LID79" rel="#L79">79</span>
<span id="LID80" rel="#L80">80</span>
<span id="LID81" rel="#L81">81</span>
<span id="LID82" rel="#L82">82</span>
<span id="LID83" rel="#L83">83</span>
<span id="LID84" rel="#L84">84</span>
<span id="LID85" rel="#L85">85</span>
<span id="LID86" rel="#L86">86</span>
<span id="LID87" rel="#L87">87</span>
<span id="LID88" rel="#L88">88</span>
<span id="LID89" rel="#L89">89</span>
<span id="LID90" rel="#L90">90</span>
<span id="LID91" rel="#L91">91</span>
<span id="LID92" rel="#L92">92</span>
<span id="LID93" rel="#L93">93</span>
<span id="LID94" rel="#L94">94</span>
<span id="LID95" rel="#L95">95</span>
<span id="LID96" rel="#L96">96</span>
<span id="LID97" rel="#L97">97</span>
<span id="LID98" rel="#L98">98</span>
<span id="LID99" rel="#L99">99</span>
<span id="LID100" rel="#L100">100</span>
<span id="LID101" rel="#L101">101</span>
<span id="LID102" rel="#L102">102</span>
<span id="LID103" rel="#L103">103</span>
<span id="LID104" rel="#L104">104</span>
<span id="LID105" rel="#L105">105</span>
<span id="LID106" rel="#L106">106</span>
<span id="LID107" rel="#L107">107</span>
<span id="LID108" rel="#L108">108</span>
<span id="LID109" rel="#L109">109</span>
<span id="LID110" rel="#L110">110</span>
<span id="LID111" rel="#L111">111</span>
<span id="LID112" rel="#L112">112</span>
<span id="LID113" rel="#L113">113</span>
<span id="LID114" rel="#L114">114</span>
<span id="LID115" rel="#L115">115</span>
<span id="LID116" rel="#L116">116</span>
<span id="LID117" rel="#L117">117</span>
<span id="LID118" rel="#L118">118</span>
<span id="LID119" rel="#L119">119</span>
<span id="LID120" rel="#L120">120</span>
<span id="LID121" rel="#L121">121</span>
<span id="LID122" rel="#L122">122</span>
<span id="LID123" rel="#L123">123</span>
<span id="LID124" rel="#L124">124</span>
<span id="LID125" rel="#L125">125</span>
<span id="LID126" rel="#L126">126</span>
<span id="LID127" rel="#L127">127</span>
<span id="LID128" rel="#L128">128</span>
<span id="LID129" rel="#L129">129</span>
<span id="LID130" rel="#L130">130</span>
<span id="LID131" rel="#L131">131</span>
<span id="LID132" rel="#L132">132</span>
<span id="LID133" rel="#L133">133</span>
<span id="LID134" rel="#L134">134</span>
<span id="LID135" rel="#L135">135</span>
<span id="LID136" rel="#L136">136</span>
<span id="LID137" rel="#L137">137</span>
<span id="LID138" rel="#L138">138</span>
<span id="LID139" rel="#L139">139</span>
<span id="LID140" rel="#L140">140</span>
<span id="LID141" rel="#L141">141</span>
<span id="LID142" rel="#L142">142</span>
<span id="LID143" rel="#L143">143</span>
<span id="LID144" rel="#L144">144</span>
<span id="LID145" rel="#L145">145</span>
<span id="LID146" rel="#L146">146</span>
<span id="LID147" rel="#L147">147</span>
<span id="LID148" rel="#L148">148</span>
<span id="LID149" rel="#L149">149</span>
<span id="LID150" rel="#L150">150</span>
<span id="LID151" rel="#L151">151</span>
<span id="LID152" rel="#L152">152</span>
<span id="LID153" rel="#L153">153</span>
<span id="LID154" rel="#L154">154</span>
<span id="LID155" rel="#L155">155</span>
<span id="LID156" rel="#L156">156</span>
<span id="LID157" rel="#L157">157</span>
<span id="LID158" rel="#L158">158</span>
<span id="LID159" rel="#L159">159</span>
<span id="LID160" rel="#L160">160</span>
<span id="LID161" rel="#L161">161</span>
<span id="LID162" rel="#L162">162</span>
<span id="LID163" rel="#L163">163</span>
<span id="LID164" rel="#L164">164</span>
<span id="LID165" rel="#L165">165</span>
<span id="LID166" rel="#L166">166</span>
<span id="LID167" rel="#L167">167</span>
<span id="LID168" rel="#L168">168</span>
<span id="LID169" rel="#L169">169</span>
<span id="LID170" rel="#L170">170</span>
<span id="LID171" rel="#L171">171</span>
<span id="LID172" rel="#L172">172</span>
<span id="LID173" rel="#L173">173</span>
<span id="LID174" rel="#L174">174</span>
<span id="LID175" rel="#L175">175</span>
<span id="LID176" rel="#L176">176</span>
<span id="LID177" rel="#L177">177</span>
<span id="LID178" rel="#L178">178</span>
<span id="LID179" rel="#L179">179</span>
<span id="LID180" rel="#L180">180</span>
<span id="LID181" rel="#L181">181</span>
<span id="LID182" rel="#L182">182</span>
<span id="LID183" rel="#L183">183</span>
<span id="LID184" rel="#L184">184</span>
<span id="LID185" rel="#L185">185</span>
<span id="LID186" rel="#L186">186</span>
<span id="LID187" rel="#L187">187</span>
<span id="LID188" rel="#L188">188</span>
<span id="LID189" rel="#L189">189</span>
<span id="LID190" rel="#L190">190</span>
<span id="LID191" rel="#L191">191</span>
<span id="LID192" rel="#L192">192</span>
<span id="LID193" rel="#L193">193</span>
<span id="LID194" rel="#L194">194</span>
<span id="LID195" rel="#L195">195</span>
<span id="LID196" rel="#L196">196</span>
<span id="LID197" rel="#L197">197</span>
<span id="LID198" rel="#L198">198</span>
<span id="LID199" rel="#L199">199</span>
<span id="LID200" rel="#L200">200</span>
<span id="LID201" rel="#L201">201</span>
<span id="LID202" rel="#L202">202</span>
<span id="LID203" rel="#L203">203</span>
<span id="LID204" rel="#L204">204</span>
<span id="LID205" rel="#L205">205</span>
<span id="LID206" rel="#L206">206</span>
<span id="LID207" rel="#L207">207</span>
<span id="LID208" rel="#L208">208</span>
<span id="LID209" rel="#L209">209</span>
<span id="LID210" rel="#L210">210</span>
<span id="LID211" rel="#L211">211</span>
<span id="LID212" rel="#L212">212</span>
<span id="LID213" rel="#L213">213</span>
<span id="LID214" rel="#L214">214</span>
<span id="LID215" rel="#L215">215</span>
<span id="LID216" rel="#L216">216</span>
<span id="LID217" rel="#L217">217</span>
<span id="LID218" rel="#L218">218</span>
<span id="LID219" rel="#L219">219</span>
<span id="LID220" rel="#L220">220</span>
<span id="LID221" rel="#L221">221</span>
<span id="LID222" rel="#L222">222</span>
<span id="LID223" rel="#L223">223</span>
<span id="LID224" rel="#L224">224</span>
<span id="LID225" rel="#L225">225</span>
<span id="LID226" rel="#L226">226</span>
<span id="LID227" rel="#L227">227</span>
<span id="LID228" rel="#L228">228</span>
<span id="LID229" rel="#L229">229</span>
<span id="LID230" rel="#L230">230</span>
<span id="LID231" rel="#L231">231</span>
<span id="LID232" rel="#L232">232</span>
<span id="LID233" rel="#L233">233</span>
<span id="LID234" rel="#L234">234</span>
<span id="LID235" rel="#L235">235</span>
<span id="LID236" rel="#L236">236</span>
<span id="LID237" rel="#L237">237</span>
<span id="LID238" rel="#L238">238</span>
<span id="LID239" rel="#L239">239</span>
<span id="LID240" rel="#L240">240</span>
<span id="LID241" rel="#L241">241</span>
<span id="LID242" rel="#L242">242</span>
<span id="LID243" rel="#L243">243</span>
<span id="LID244" rel="#L244">244</span>
<span id="LID245" rel="#L245">245</span>
<span id="LID246" rel="#L246">246</span>
<span id="LID247" rel="#L247">247</span>
<span id="LID248" rel="#L248">248</span>
<span id="LID249" rel="#L249">249</span>
<span id="LID250" rel="#L250">250</span>
<span id="LID251" rel="#L251">251</span>
<span id="LID252" rel="#L252">252</span>
<span id="LID253" rel="#L253">253</span>
<span id="LID254" rel="#L254">254</span>
<span id="LID255" rel="#L255">255</span>
<span id="LID256" rel="#L256">256</span>
<span id="LID257" rel="#L257">257</span>
<span id="LID258" rel="#L258">258</span>
<span id="LID259" rel="#L259">259</span>
<span id="LID260" rel="#L260">260</span>
<span id="LID261" rel="#L261">261</span>
<span id="LID262" rel="#L262">262</span>
<span id="LID263" rel="#L263">263</span>
<span id="LID264" rel="#L264">264</span>
<span id="LID265" rel="#L265">265</span>
<span id="LID266" rel="#L266">266</span>
<span id="LID267" rel="#L267">267</span>
<span id="LID268" rel="#L268">268</span>
<span id="LID269" rel="#L269">269</span>
<span id="LID270" rel="#L270">270</span>
<span id="LID271" rel="#L271">271</span>
<span id="LID272" rel="#L272">272</span>
<span id="LID273" rel="#L273">273</span>
<span id="LID274" rel="#L274">274</span>
<span id="LID275" rel="#L275">275</span>
<span id="LID276" rel="#L276">276</span>
<span id="LID277" rel="#L277">277</span>
<span id="LID278" rel="#L278">278</span>
<span id="LID279" rel="#L279">279</span>
<span id="LID280" rel="#L280">280</span>
<span id="LID281" rel="#L281">281</span>
<span id="LID282" rel="#L282">282</span>
<span id="LID283" rel="#L283">283</span>
<span id="LID284" rel="#L284">284</span>
<span id="LID285" rel="#L285">285</span>
<span id="LID286" rel="#L286">286</span>
<span id="LID287" rel="#L287">287</span>
<span id="LID288" rel="#L288">288</span>
<span id="LID289" rel="#L289">289</span>
<span id="LID290" rel="#L290">290</span>
<span id="LID291" rel="#L291">291</span>
<span id="LID292" rel="#L292">292</span>
<span id="LID293" rel="#L293">293</span>
<span id="LID294" rel="#L294">294</span>
<span id="LID295" rel="#L295">295</span>
<span id="LID296" rel="#L296">296</span>
<span id="LID297" rel="#L297">297</span>
<span id="LID298" rel="#L298">298</span>
<span id="LID299" rel="#L299">299</span>
<span id="LID300" rel="#L300">300</span>
<span id="LID301" rel="#L301">301</span>
<span id="LID302" rel="#L302">302</span>
<span id="LID303" rel="#L303">303</span>
<span id="LID304" rel="#L304">304</span>
<span id="LID305" rel="#L305">305</span>
<span id="LID306" rel="#L306">306</span>
<span id="LID307" rel="#L307">307</span>
<span id="LID308" rel="#L308">308</span>
<span id="LID309" rel="#L309">309</span>
<span id="LID310" rel="#L310">310</span>
<span id="LID311" rel="#L311">311</span>
<span id="LID312" rel="#L312">312</span>
<span id="LID313" rel="#L313">313</span>
<span id="LID314" rel="#L314">314</span>
<span id="LID315" rel="#L315">315</span>
<span id="LID316" rel="#L316">316</span>
<span id="LID317" rel="#L317">317</span>
<span id="LID318" rel="#L318">318</span>
<span id="LID319" rel="#L319">319</span>
<span id="LID320" rel="#L320">320</span>
<span id="LID321" rel="#L321">321</span>
<span id="LID322" rel="#L322">322</span>
</pre>
              </td>
              <td width="100%">

          
          
            <div class="highlight"><pre><div class="line" id="LC1">&lt;?php</div><div class="line" id="LC2">/*</div><div class="line" id="LC3">&nbsp;ROBIT BT plugins for tinyCME editor</div><div class="line" id="LC4">&nbsp;Image galery browser, image delete, image upload,thumblair generator.</div><div class="line" id="LC5">&nbsp;Accept only one image folder</div><div class="line" id="LC6">&nbsp;Required: PHP4 and gd.lib extension</div><div class="line" id="LC7">&nbsp;</div><div class="line" id="LC8">&nbsp;Install:</div><div class="line" id="LC9">&nbsp;&nbsp;&nbsp;1. edit this file config section</div><div class="line" id="LC10">&nbsp;&nbsp;&nbsp;2. copy this file into tinyCME/plugins/advimage folder</div><div class="line" id="LC11">&nbsp;&nbsp;&nbsp;3. replace the image.htm in tinyCME/plugins/advimage folder</div><div class="line" id="LC12">&nbsp;&nbsp;&nbsp;4. copy audio.jpg, video.jpg into tinyCME/plugins/advimage folder</div><div class="line" id="LC13">&nbsp;</div><div class="line" id="LC14">&nbsp;licence: GNU/GPL</div><div class="line" id="LC15">&nbsp;Authot:  Tibor Fogler   foglert@robitbt.hu</div><div class="line" id="LC16">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;www.robitbt.hu</div><div class="line" id="LC17">&nbsp;2008.04.20</div><div class="line" id="LC18">*/</div><div class="line" id="LC19">function generate_base_url(){</div><div class="line" id="LC20">&nbsp;&nbsp;if(!$_SERVER['HTTPS'] ||$_SERVER['HTTPS'] === 'off'){</div><div class="line" id="LC21">&nbsp;&nbsp;&nbsp;&nbsp;$protocol = 'http';</div><div class="line" id="LC22">&nbsp;&nbsp;}else{</div><div class="line" id="LC23">&nbsp;&nbsp;&nbsp;&nbsp;$protocol = 'https';</div><div class="line" id="LC24">&nbsp;&nbsp;}</div><div class="line" id="LC25">&nbsp;&nbsp;return $protocol.'://'.$_SERVER['SERVER_NAME'].'/';</div><div class="line" id="LC26">}</div><div class="line" id="LC27">global $GDok,$IMGFOLDER,$IMGURL,$AUDIOICON,$VIDEOICON;</div><div class="line" id="LC28">$GDok = TRUE;</div><div class="line" id="LC29">// ------------ config section --------------------</div><div class="line" id="LC30">$IMGFOLDER_name = '/images';</div><div class="line" id="LC31">$path_to_public_html = '../../../../../../../../../';</div><div class="line" id="LC32">$VIDEOICON = 'video.jpg';</div><div class="line" id="LC33">$AUDIOICON = 'audio.jpg';</div><div class="line" id="LC34">// language setting   en</div><div class="line" id="LC35">$LARGEIMG = 'Large image';</div><div class="line" id="LC36">$DELETEIMG = 'Delete image';</div><div class="line" id="LC37">$INSERTIMG = 'Insert image into HTML';</div><div class="line" id="LC38">$UPLOADIMG = 'Upload';</div><div class="line" id="LC39">$HELPSTR = 'Click a image!';</div><div class="line" id="LC40">// -------------------------------------------------</div><div class="line" id="LC41">$IMGFOLDER = $path_to_public_html.$IMGFOLDER_name;</div><div class="line" id="LC42">$IMGURL = generate_base_url().$IMGFOLDER_name;</div><div class="line" id="LC43">?&gt;</div><div class="line" id="LC44">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;</div><div class="line" id="LC45">&lt;html&gt;</div><div class="line" id="LC46">&lt;head&gt;</div><div class="line" id="LC47">&nbsp;&nbsp;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=iso-8859-2&quot; /&gt;</div><div class="line" id="LC48">&lt;/head&gt;</div><div class="line" id="LC49">&lt;body&gt;</div><div class="line" id="LC50">&lt;?php</div><div class="line" id="LC51">&nbsp;</div><div class="line" id="LC52">function make_thumb($img_name,$filename,$new_w,$new_h) {</div><div class="line" id="LC53">&nbsp;&nbsp;$fsize = filesize($img_name);</div><div class="line" id="LC54">&nbsp;&nbsp;if (!$fsize) {</div><div class="line" id="LC55">&nbsp;&nbsp;&nbsp;&nbsp;return;</div><div class="line" id="LC56">&nbsp;&nbsp;}</div><div class="line" id="LC57">&nbsp;&nbsp;if ($fsize &gt; 100000) {</div><div class="line" id="LC58">&nbsp;&nbsp;&nbsp;&nbsp;return;</div><div class="line" id="LC59">&nbsp;&nbsp;}</div><div class="line" id="LC60">&nbsp;&nbsp;//get image extension.</div><div class="line" id="LC61">&nbsp;&nbsp;$ext=getExtension($img_name);</div><div class="line" id="LC62">&nbsp;&nbsp;//creates the new image using the appropriate function from gd library</div><div class="line" id="LC63">&nbsp;&nbsp;if(!strcmp(&quot;jpg&quot;,$ext) || !strcmp(&quot;jpeg&quot;,$ext))</div><div class="line" id="LC64">&nbsp;&nbsp;&nbsp;&nbsp;$src_img=ImageCreateFromJPEG($img_name);</div><div class="line" id="LC65">&nbsp;&nbsp;if(!strcmp(&quot;JPG&quot;,$ext) || !strcmp(&quot;JPEG&quot;,$ext))</div><div class="line" id="LC66">&nbsp;&nbsp;&nbsp;&nbsp;$src_img=ImageCreateFromJPEG($img_name);</div><div class="line" id="LC67">&nbsp;&nbsp;if(!strcmp(&quot;gif&quot;,$ext))</div><div class="line" id="LC68">&nbsp;&nbsp;&nbsp;&nbsp;$src_img=ImageCreateFromGIF($img_name);</div><div class="line" id="LC69">&nbsp;&nbsp;if(!strcmp(&quot;GIF&quot;,$ext))</div><div class="line" id="LC70">&nbsp;&nbsp;&nbsp;&nbsp;$src_img=ImageCreateFromGIF($img_name);</div><div class="line" id="LC71">&nbsp;&nbsp;if(!strcmp(&quot;png&quot;,$ext))</div><div class="line" id="LC72">&nbsp;&nbsp;&nbsp;&nbsp;$src_img=ImageCreateFromPng($img_name);</div><div class="line" id="LC73">&nbsp;&nbsp;if(!strcmp(&quot;PNG&quot;,$ext))</div><div class="line" id="LC74">&nbsp;&nbsp;&nbsp;&nbsp;$src_img=ImageCreateFromPng($img_name);</div><div class="line" id="LC75">&nbsp;&nbsp;if (isset($src_img)) {</div><div class="line" id="LC76">&nbsp;&nbsp;&nbsp;&nbsp;if ($src_img != '') {</div><div class="line" id="LC77">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//gets the dimmensions of the image</div><div class="line" id="LC78">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$old_x=imageSX($src_img);</div><div class="line" id="LC79">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$old_y=imageSY($src_img);</div><div class="line" id="LC80">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (($old_x &gt; new_w) | ($old_y &gt; new_h)) {</div><div class="line" id="LC81">&nbsp;&nbsp;      $ratio1=$old_x/$new_w;</div><div class="line" id="LC82">&nbsp;&nbsp;      $ratio2=$old_y/$new_h;</div><div class="line" id="LC83">&nbsp;&nbsp;      if($ratio1&gt;$ratio2) {</div><div class="line" id="LC84">&nbsp;&nbsp;        $thumb_w=$new_w;</div><div class="line" id="LC85">&nbsp;&nbsp;        $thumb_h=$old_y/$ratio1;</div><div class="line" id="LC86">&nbsp;&nbsp;      } else {</div><div class="line" id="LC87">&nbsp;&nbsp;        $thumb_h=$new_h;</div><div class="line" id="LC88">&nbsp;&nbsp;        $thumb_w=$old_x/$ratio2;</div><div class="line" id="LC89">&nbsp;&nbsp;      }</div><div class="line" id="LC90">&nbsp;&nbsp;      // we create a new image with the new dimmensions</div><div class="line" id="LC91">&nbsp;&nbsp;      if (($old_x &lt; 1000) and ($old_y &lt; 1000)) {</div><div class="line" id="LC92">&nbsp;&nbsp;         $dst_img=ImageCreateTrueColor($thumb_w,$thumb_h);</div><div class="line" id="LC93">&nbsp;&nbsp;         // resize the big image to the new created one</div><div class="line" id="LC94">&nbsp;&nbsp;         imagecopyresampled($dst_img,$src_img,0,0,0,0,$thumb_w,$thumb_h,$old_x,$old_y);</div><div class="line" id="LC95">&nbsp;&nbsp;         // output the created image to the file. Now we will have the thumbnail into the</div><div class="line" id="LC96">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // file named by $filename</div><div class="line" id="LC97">&nbsp;&nbsp;         if(!strcmp(&quot;png&quot;,$ext))</div><div class="line" id="LC98">&nbsp;&nbsp;           imagepng($dst_img,$filename);</div><div class="line" id="LC99">&nbsp;&nbsp;         else if(!strcmp(&quot;gif&quot;,$ext))</div><div class="line" id="LC100">&nbsp;&nbsp;           imagegif($dst_img,$filename);</div><div class="line" id="LC101">&nbsp;&nbsp;         else</div><div class="line" id="LC102">&nbsp;&nbsp;           imagejpeg($dst_img,$filename);</div><div class="line" id="LC103">&nbsp;&nbsp;      }</div><div class="line" id="LC104">&nbsp;&nbsp;  }</div><div class="line" id="LC105">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//destroys source and destination images.</div><div class="line" id="LC106">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@imagedestroy($dst_img);</div><div class="line" id="LC107">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@imagedestroy($src_img);</div><div class="line" id="LC108">&nbsp;&nbsp;&nbsp;&nbsp;}</div><div class="line" id="LC109">&nbsp;&nbsp;}</div><div class="line" id="LC110">}</div><div class="line" id="LC111">&nbsp;</div><div class="line" id="LC112">// get size of image</div><div class="line" id="LC113">function getimgsize($filename,&amp;$x,&amp;$y) {</div><div class="line" id="LC114">&nbsp;&nbsp;$x = -1;</div><div class="line" id="LC115">&nbsp;&nbsp;$y = -1;</div><div class="line" id="LC116">&nbsp;&nbsp;$result = FALSE;</div><div class="line" id="LC117">&nbsp;&nbsp;$imginfo = GetImageSize($filename);</div><div class="line" id="LC118">&nbsp;&nbsp;if (count($imginfo) &gt; 2) {</div><div class="line" id="LC119">&nbsp;&nbsp;&nbsp;&nbsp;$x = $imginfo[0];</div><div class="line" id="LC120">&nbsp;&nbsp;&nbsp;&nbsp;$y = $imginfo[1];</div><div class="line" id="LC121">&nbsp;&nbsp;&nbsp;&nbsp;$result = TRUE;</div><div class="line" id="LC122">&nbsp;&nbsp;}</div><div class="line" id="LC123">&nbsp;&nbsp;return $result;</div><div class="line" id="LC124">}</div><div class="line" id="LC125">&nbsp;</div><div class="line" id="LC126">// read directory list,</div><div class="line" id="LC127">// echo table with thumbmail images</div><div class="line" id="LC128">// (generate thumbmail if not exists)</div><div class="line" id="LC129">// onclick=parent.imgselect(i);</div><div class="line" id="LC130">function maketable($dirname) {</div><div class="line" id="LC131">&nbsp;&nbsp;global $GDok,$IMGFOLDER,$IMGURL,$VIDEOICON,$AUDIOICON;</div><div class="line" id="LC132">&nbsp;&nbsp;$handle = opendir($dirname);</div><div class="line" id="LC133">&nbsp;&nbsp;$file_lista[]=array();</div><div class="line" id="LC134">&nbsp;&nbsp;while ($file = readdir($handle)) {</div><div class="line" id="LC135">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (($file != '.') &amp;&amp; ($file != '..')) {</div><div class="line" id="LC136">&nbsp;&nbsp;$file_lista[]=$file;</div><div class="line" id="LC137">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div class="line" id="LC138">&nbsp;&nbsp;};</div><div class="line" id="LC139">&nbsp;&nbsp;closedir($handle);</div><div class="line" id="LC140">&nbsp;&nbsp;$kepdb= -1;</div><div class="line" id="LC141">&nbsp;&nbsp;$coldb = 0;</div><div class="line" id="LC142">&nbsp;&nbsp;print '&lt;table border=&quot;0&quot; cellspacin=&quot;0&quot; cellpadding=&quot;0&quot;&gt;&lt;tr&gt;'.&quot;\n&quot;;</div><div class="line" id="LC143">&nbsp;&nbsp;if (count($file_lista) &gt; 0) {</div><div class="line" id="LC144">&nbsp;&nbsp;&nbsp;&nbsp;for ( $a=0; $a&lt;sizeof($file_lista); $a++) {</div><div class="line" id="LC145">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$fnev = $dirname.&quot;/&quot;.$file_lista[$a];</div><div class="line" id="LC146">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (! is_dir($fnev)) {</div><div class="line" id="LC147">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (((substr($fnev,-4)==&quot;.jpg&quot;) || (substr($fnev,-4)==&quot;.gif&quot;) ||</div><div class="line" id="LC148">&nbsp;&nbsp;            (substr($fnev,-4)==&quot;.mpg&quot;) || (substr($fnev,-4)==&quot;.MPG&quot;) ||</div><div class="line" id="LC149">&nbsp;&nbsp;            (substr($fnev,-4)==&quot;.mpeg&quot;) || (substr($fnev,-4)==&quot;.MPEG&quot;) ||</div><div class="line" id="LC150">&nbsp;&nbsp;            (substr($fnev,-4)==&quot;.avi&quot;) || (substr($fnev,-4)==&quot;.AVI&quot;) ||</div><div class="line" id="LC151">&nbsp;&nbsp;            (substr($fnev,-4)==&quot;.wmv&quot;) || (substr($fnev,-4)==&quot;.WMV&quot;) ||</div><div class="line" id="LC152">&nbsp;&nbsp;            (substr($fnev,-4)==&quot;.mov&quot;) || (substr($fnev,-4)==&quot;.MOV&quot;) ||</div><div class="line" id="LC153">&nbsp;&nbsp;            (substr($fnev,-4)==&quot;.png&quot;) || (substr($fnev,-4)==&quot;.PNG&quot;) ||</div><div class="line" id="LC154">&nbsp;&nbsp;            (substr($fnev,-4)==&quot;.mp3&quot;) || (substr($fnev,-4)==&quot;.MP3&quot;) ||</div><div class="line" id="LC155">&nbsp;&nbsp;            (substr($fnev,-4)==&quot;.JPG&quot;) || (substr($fnev,-4)==&quot;.GIF&quot;)) &amp;&amp;</div><div class="line" id="LC156">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($file_lista[$a] != 'index.gif') &amp;&amp;</div><div class="line" id="LC157">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($file_lista[$a] != 'index.gif') &amp;&amp;</div><div class="line" id="LC158">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(!strpos($file_lista[$a],'_t.'))) {</div><div class="line" id="LC159">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$kepdb++;</div><div class="line" id="LC160">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$coldb++;</div><div class="line" id="LC161">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    $picname=substr($file_lista[$a], 0, -4);</div><div class="line" id="LC162">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$belyeg = $dirname.'/'.$picname.'_t'.substr($file_lista[$a],-4);</div><div class="line" id="LC163">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$belyegurl = $IMGURL.'/'.rawurlencode($picname).'_t'.substr($file_lista[$a],-4);</div><div class="line" id="LC164">&nbsp;&nbsp;            if ((substr($fnev,-4)==&quot;.mpg&quot;) || (substr($fnev,-4)==&quot;.MPG&quot;) ||</div><div class="line" id="LC165">&nbsp;&nbsp;                (substr($fnev,-4)==&quot;.avi&quot;) || (substr($fnev,-4)==&quot;.AVI&quot;) ||</div><div class="line" id="LC166">&nbsp;&nbsp;                (substr($fnev,-4)==&quot;.wmv&quot;) || (substr($fnev,-4)==&quot;.WMV&quot;) ||</div><div class="line" id="LC167">&nbsp;&nbsp;                (substr($fnev,-4)==&quot;.mov&quot;) || (substr($fnev,-4)==&quot;.MOV&quot;)) {</div><div class="line" id="LC168">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$belyeg = './'.$VIDEOICON;</div><div class="line" id="LC169">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$belyegurl = './'.$VIDEOICON;</div><div class="line" id="LC170">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div class="line" id="LC171">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ((substr($fnev,-4)==&quot;.mp3&quot;) || (substr($fnev,-4)==&quot;.MP3&quot;)) {</div><div class="line" id="LC172">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$belyeg = './'.$AUDIOICON;</div><div class="line" id="LC173">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$belyegurl = './'.$AUDIOICON;</div><div class="line" id="LC174">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div class="line" id="LC175">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// ha még nincsbélyegkép akkor létrehozni</div><div class="line" id="LC176">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!file_exists($belyeg)) {</div><div class="line" id="LC177">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($GDok) make_thumb($fnev,$belyeg,100,100);</div><div class="line" id="LC178">&nbsp;&nbsp;            };</div><div class="line" id="LC179">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (! file_exists($belyeg)) {</div><div class="line" id="LC180">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$belyeg = $dirname.'/'.$file_lista[$a];</div><div class="line" id="LC181">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   $belyegurl = $IMGURL.'/'.rawurlencode($file_lista[$a]);</div><div class="line" id="LC182">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div class="line" id="LC183">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$x = -1;</div><div class="line" id="LC184">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$y = -1;</div><div class="line" id="LC185">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getimgsize($belyeg,$x,$y);</div><div class="line" id="LC186">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print '&lt;td width=&quot;110&quot; height=&quot;110&quot; onclick=&quot;parent.selectimg('.$kepdb.')&quot; '.</div><div class="line" id="LC187">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'align=&quot;center&quot; valign=&quot;center&quot; style=&quot;padding:5px; cursor:pointer;&quot;&gt;'.&quot;\n&quot;;</div><div class="line" id="LC188">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($x &lt; 0) {</div><div class="line" id="LC189">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  print '&lt;img src=&quot;'.$belyegurl.'&quot; alt=&quot;'.$file_lista[$a].'&quot; width=&quot;100&quot; height=&quot;100&quot; id=&quot;'.$kepdb.'&quot; /&gt;';</div><div class="line" id="LC190">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else if ($x &gt; $y) {</div><div class="line" id="LC191">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  print '&lt;img src=&quot;'.$belyegurl.'&quot; alt=&quot;'.$file_lista[$a].'&quot; width=&quot;100&quot; id=&quot;'.$kepdb.'&quot; /&gt;';</div><div class="line" id="LC192">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</div><div class="line" id="LC193">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  print '&lt;img src=&quot;'.$belyegurl.'&quot; alt=&quot;'.$file_lista[$a].'&quot; height=&quot;100&quot; id=&quot;'.$kepdb.'&quot; /&gt;';</div><div class="line" id="LC194">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div class="line" id="LC195">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print '&lt;/td&gt;'.&quot;\n&quot;;</div><div class="line" id="LC196">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($coldb == 3) {</div><div class="line" id="LC197">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  print '&lt;/tr&gt;&lt;tr&gt;'.&quot;\n&quot;;</div><div class="line" id="LC198">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  $coldb = 0;</div><div class="line" id="LC199">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div class="line" id="LC200">&nbsp;&nbsp;&nbsp;&nbsp;      }</div><div class="line" id="LC201">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div class="line" id="LC202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div class="line" id="LC203">&nbsp;&nbsp;&nbsp;}</div><div class="line" id="LC204">&nbsp;&nbsp;&nbsp;print '&lt;/tr&gt;&lt;/table&gt;'.&quot;\n&quot;;</div><div class="line" id="LC205">} //function makejsdir</div><div class="line" id="LC206">&nbsp;</div><div class="line" id="LC207">// This function reads the extension of the file.</div><div class="line" id="LC208">// It is used to determine if the file is an image by checking the extension.</div><div class="line" id="LC209">function getExtension($str) {</div><div class="line" id="LC210">&nbsp;&nbsp;$i = strrpos($str,&quot;.&quot;);</div><div class="line" id="LC211">&nbsp;&nbsp;if (!$i) { return &quot;&quot;; }</div><div class="line" id="LC212">&nbsp;&nbsp;$l = strlen($str) - $i;</div><div class="line" id="LC213">&nbsp;&nbsp;$ext = substr($str,$i+1,$l);</div><div class="line" id="LC214">&nbsp;&nbsp;return $ext;</div><div class="line" id="LC215">}</div><div class="line" id="LC216">// ----------------</div><div class="line" id="LC217">// main program</div><div class="line" id="LC218">// ----------------</div><div class="line" id="LC219">if (!extension_loaded('gd')) {</div><div class="line" id="LC220">&nbsp;&nbsp;&nbsp;if (!dl('gd.so')) {</div><div class="line" id="LC221">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$GDok = FALSE;</div><div class="line" id="LC222">&nbsp;&nbsp;&nbsp;}</div><div class="line" id="LC223">}</div><div class="line" id="LC224">if (isset($_GET['dirname'])) $dirname = $_GET['dirname']; else $dirname = $IMGFOLDER;</div><div class="line" id="LC225">if (isset($_GET['act'])) $act = $_GET['act']; else $act = $list;</div><div class="line" id="LC226">if (isset($_POST['act'])) $act = $_POST['act'];</div><div class="line" id="LC227">if (isset($_POST['fname'])) $fname = $_POST['fname']; else $fname = '';</div><div class="line" id="LC228">if ($act == 'upload') {</div><div class="line" id="LC229">&nbsp;&nbsp;// do file upload</div><div class="line" id="LC230">&nbsp;&nbsp;&nbsp;&nbsp;$name = $_FILES['upload']['name'];</div><div class="line" id="LC231">&nbsp;&nbsp;&nbsp;&nbsp;if (!is_dir($dirname)) {</div><div class="line" id="LC232">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mkdir($dirname,0644);</div><div class="line" id="LC233">&nbsp;&nbsp;&nbsp;&nbsp;};</div><div class="line" id="LC234">&nbsp;&nbsp;&nbsp;&nbsp;if (file_exists(&quot;$dirname/$name&quot;))  {</div><div class="line" id="LC235">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo &quot;&lt;p&gt;&quot;._EXIST.&quot; $dirname/$name &lt;/p&gt;&quot;;</div><div class="line" id="LC236">&nbsp;&nbsp;&nbsp;&nbsp;} else {</div><div class="line" id="LC237">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (is_uploaded_file($_FILES['upload']['tmp_name'])) {</div><div class="line" id="LC238">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (move_uploaded_file($_FILES['upload']['tmp_name'],&quot;$dirname/$name&quot; ))</div><div class="line" id="LC239">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chmod(&quot;$dirname/$name&quot;,0644);</div><div class="line" id="LC240">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</div><div class="line" id="LC241">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!file_exists(&quot;$dirname/$name&quot;)) {</div><div class="line" id="LC242">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo &quot;&lt;p&gt;&quot;._UPLOADERROR.&quot; $dirname/$name&lt;/p2&gt;\n&quot;;</div><div class="line" id="LC243">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</div><div class="line" id="LC244">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$picname=substr($name, 0, -4);</div><div class="line" id="LC245">&nbsp;&nbsp;&nbsp;&nbsp;};</div><div class="line" id="LC246">}</div><div class="line" id="LC247">if ($act == 'delete') {</div><div class="line" id="LC248">&nbsp;&nbsp;// do delete file</div><div class="line" id="LC249">&nbsp;&nbsp;unlink($IMGFOLDER.'/'.$_POST['fname']);</div><div class="line" id="LC250">}</div><div class="line" id="LC251">if ($act == 'list') {</div><div class="line" id="LC252">&nbsp;&nbsp;// generate table</div><div class="line" id="LC253">&nbsp;&nbsp;maketable($dirname);</div><div class="line" id="LC254">&nbsp;&nbsp;print '&lt;/body&gt;&lt;/html&gt;';</div><div class="line" id="LC255">&nbsp;&nbsp;exit();</div><div class="line" id="LC256">}</div><div class="line" id="LC257">// draw image manager window</div><div class="line" id="LC258">print '&lt;iframe id=&quot;frm1&quot; name=&quot;frm1&quot; width=&quot;480&quot; height=&quot;220&quot; src=&quot;./galery.php?act=list&quot;&gt;&lt;/iframe&gt;'.&quot;\n&quot;;</div><div class="line" id="LC259">print &quot;&lt;form name=\&quot;imgupload\&quot; method=\&quot;post\&quot; action=\&quot;./galery.php?dirname=$dirname\&quot; enctype=\&quot;multipart/form-data\&quot;&gt;\n&quot;;</div><div class="line" id="LC260">print &quot;&lt;center&gt;\n&quot;;</div><div class="line" id="LC261">print '&lt;p id=&quot;imgalt&quot;&gt;&amp;nbsp;&lt;/p&gt;'.&quot;\n&quot;;</div><div class="line" id="LC262">print &quot;&lt;p&gt;$HELPSTR&lt;/p&gt;\n&quot;;</div><div class="line" id="LC263">print &quot;&lt;button type=button onclick=viewimg();&gt;$LARGEIMG&lt;/button&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;\n&quot;;</div><div class="line" id="LC264">print &quot;&lt;button type=button onclick=insertimg();&gt;$INSERTIMG&lt;/button&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;\n&quot;;</div><div class="line" id="LC265">print &quot;&lt;button type=button onclick=deleteimg();&gt;$DELETEIMG&lt;/button&gt;&lt;br/&gt;\n&quot;;</div><div class="line" id="LC266">print &quot;&lt;input type=file size=40 name=upload&gt;&amp;nbsp;&quot;;</div><div class="line" id="LC267">print &quot;&lt;input type=hidden name=act value=\&quot;upload\&quot;&gt;&amp;nbsp;&quot;;</div><div class="line" id="LC268">print &quot;&lt;input type=hidden name=fname value=\&quot;\&quot;&gt;&amp;nbsp;&quot;;</div><div class="line" id="LC269">print &quot;&lt;button type=button onclick=\&quot;uploadimg();\&quot;&gt;$UPLOADIMG&lt;/button&gt;&lt;br /&gt;\n&quot;;</div><div class="line" id="LC270">print &quot;&lt;/center&gt;\n&quot;;</div><div class="line" id="LC271">print &quot;&lt;/form&gt;\n&quot;;</div><div class="line" id="LC272">print &quot;&lt;/center&gt;\n&quot;;</div><div class="line" id="LC273">?&gt;</div><div class="line" id="LC274">&lt;script language=&quot;JavaScript&quot;&gt;</div><div class="line" id="LC275">function selectimg(i) {</div><div class="line" id="LC276">&nbsp;&nbsp;doc = frames['frm1'].document;</div><div class="line" id="LC277">&nbsp;&nbsp;if (selected &gt;= 0) {</div><div class="line" id="LC278">&nbsp;&nbsp;&nbsp;&nbsp;img = doc.getElementById(selected);</div><div class="line" id="LC279">&nbsp;&nbsp;&nbsp;&nbsp;img.parentNode.style.background = 'white';</div><div class="line" id="LC280">&nbsp;&nbsp;}</div><div class="line" id="LC281">&nbsp;&nbsp;selected = i;</div><div class="line" id="LC282">&nbsp;&nbsp;img = doc.getElementById(i);</div><div class="line" id="LC283">&nbsp;&nbsp;img.parentNode.style.background = 'blue';</div><div class="line" id="LC284">&nbsp;&nbsp;document.getElementById('imgalt').innerHTML = img.alt;</div><div class="line" id="LC285">}</div><div class="line" id="LC286">function deleteimg() {</div><div class="line" id="LC287">&nbsp;&nbsp;if (selected &gt;= 0) {</div><div class="line" id="LC288">&nbsp;&nbsp;&nbsp;&nbsp;doc = frames['frm1'].document;</div><div class="line" id="LC289">&nbsp;&nbsp;&nbsp;&nbsp;img = doc.getElementById(selected);</div><div class="line" id="LC290">&nbsp;&nbsp;&nbsp;&nbsp;document.forms.imgupload.act.value='delete';</div><div class="line" id="LC291">&nbsp;&nbsp;&nbsp;&nbsp;document.forms.imgupload.fname.value=img.alt;;</div><div class="line" id="LC292">&nbsp;&nbsp;&nbsp;&nbsp;document.forms.imgupload.submit();</div><div class="line" id="LC293">&nbsp;&nbsp;}</div><div class="line" id="LC294">}</div><div class="line" id="LC295">function uploadimg() {</div><div class="line" id="LC296">&nbsp;&nbsp;document.forms.imgupload.act.value='upload';</div><div class="line" id="LC297">&nbsp;&nbsp;document.forms.imgupload.submit();</div><div class="line" id="LC298">}</div><div class="line" id="LC299">function insertimg() {</div><div class="line" id="LC300">&nbsp;&nbsp;if (selected &gt;= 0) {</div><div class="line" id="LC301">&nbsp;&nbsp;&nbsp;&nbsp;doc = frames['frm1'].document;</div><div class="line" id="LC302">&nbsp;&nbsp;&nbsp;&nbsp;img = doc.getElementById(selected);</div><div class="line" id="LC303">&nbsp;&nbsp;&nbsp;&nbsp;opener.document.forms[0].src.value = '&lt;?php echo $IMGURL ?&gt;/'+img.alt;</div><div class="line" id="LC304">&nbsp;&nbsp;&nbsp;&nbsp;window.close();</div><div class="line" id="LC305">&nbsp;&nbsp;}</div><div class="line" id="LC306">}</div><div class="line" id="LC307">function viewimg() {</div><div class="line" id="LC308">&nbsp;&nbsp;if (selected &gt;= 0) {</div><div class="line" id="LC309">&nbsp;&nbsp;&nbsp;&nbsp;doc = frames['frm1'].document;</div><div class="line" id="LC310">&nbsp;&nbsp;&nbsp;&nbsp;img = doc.getElementById(selected);</div><div class="line" id="LC311">&nbsp;&nbsp;&nbsp;&nbsp;fnev = '&lt;?php echo $IMGURL ?&gt;/'+img.alt;</div><div class="line" id="LC312">&nbsp;&nbsp;&nbsp;&nbsp;window.open(fnev,'','left=100,top=100,width=600,height=500'+</div><div class="line" id="LC313">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;',resizable=yes,scrollbars=yes');</div><div class="line" id="LC314">&nbsp;&nbsp;}</div><div class="line" id="LC315">}</div><div class="line" id="LC316">// js main program</div><div class="line" id="LC317">selected = -1;</div><div class="line" id="LC318">&lt;/script&gt;</div><div class="line" id="LC319">&lt;/body&gt;</div><div class="line" id="LC320">&lt;/html&gt;</div><div class="line" id="LC321">&nbsp;</div><div class="line" id="LC322">&nbsp;</div></pre></div>
          
          
              </td>
            </tr>
          </table>
        
      </div>
    
  </div>
</div>

<div id="readme" class="blob">
  
</div>


  </div>
      
      <div class="push"></div>
    </div>
    
    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog"><strong>Blog</strong></a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> | 
            <a href="http://logicalawesome.lighthouseapp.com/projects/8570/home">Report a Bug</a> |
            <a href="http://logicalawesome.lighthouseapp.com/projects/8570/home">Request a Feature</a> |
            <a href="mailto:support@github.com">Contact</a> | 
            <a href="http://github.wordpress.com">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.85311s from github.com">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> | &copy;2008 | <a href="/site/terms">Terms of Service</a> | <a href="/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com">Hosting provided by</a>&nbsp;
          <a href="http://engineyard.com">
            <img src="/images/modules/footer/engine_yard_logo.gif" alt="Hosted by Engine Yard" />
          </a>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display:none;">
      This feature is coming soon.  Sit tight!
    </div>
  </body>
</html>

